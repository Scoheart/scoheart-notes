<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IIFE æ¨¡å—åŒ–ç¤ºä¾‹</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      border-bottom: 3px solid #4CAF50;
      padding-bottom: 10px;
    }
    .section {
      margin: 20px 0;
      padding: 15px;
      background: #f9f9f9;
      border-left: 4px solid #4CAF50;
    }
    .result {
      background: #e8f5e9;
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      font-family: monospace;
    }
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¯ IIFE (ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼) æ¨¡å—åŒ–ç¤ºä¾‹</h1>

    <div class="section">
      <h2>ğŸ“ è¯´æ˜</h2>
      <p>æœ¬ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ IIFE æ¨¡å¼åˆ›å»ºæ¨¡å—åŒ–çš„ JavaScript ä»£ç ã€‚</p>
      <p>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹è¯¦ç»†è¾“å‡ºã€‚</p>
    </div>

    <div class="section">
      <h2>ğŸ§® è®¡ç®—å™¨æ¨¡å—æµ‹è¯•</h2>
      <div id="calculator-results"></div>
    </div>

    <div class="section">
      <h2>ğŸ“Š æ—¥å¿—æ¨¡å—æµ‹è¯•</h2>
      <div id="logger-results"></div>
    </div>

    <div class="section">
      <h2>ğŸ’¡ å…³é”®ç‰¹ç‚¹</h2>
      <ul>
        <li>âœ… ä½¿ç”¨å‡½æ•°ä½œç”¨åŸŸéš”ç¦»å˜é‡</li>
        <li>âœ… é¿å…å…¨å±€å‘½åç©ºé—´æ±¡æŸ“</li>
        <li>âœ… é€šè¿‡è¿”å›å¯¹è±¡æš´éœ²å…¬å…± API</li>
        <li>âš ï¸ éœ€è¦æ‰‹åŠ¨ç®¡ç†æ¨¡å—åŠ è½½é¡ºåº</li>
        <li>âš ï¸ æ¨¡å—ä¾èµ–å…³ç³»ä¸å¤Ÿæ¸…æ™°</li>
      </ul>
    </div>
  </div>

  <!-- æ³¨æ„ï¼šåŠ è½½é¡ºåºå¾ˆé‡è¦ï¼å¿…é¡»å…ˆåŠ è½½æ¨¡å—ï¼Œå†ä½¿ç”¨ -->
  <script src="calculator.js"></script>
  <script src="logger.js"></script>
  <script>
    console.log('========================================');
    console.log('IIFE æ¨¡å—åŒ–ç¤ºä¾‹');
    console.log('========================================\n');

    // æµ‹è¯•æ—¥å¿—æ¨¡å—
    console.log('ğŸ“Š æµ‹è¯•æ—¥å¿—æ¨¡å—:');
    Logger.info('åº”ç”¨å¯åŠ¨');
    Logger.warn('è¿™æ˜¯ä¸€ä¸ªè­¦å‘Šä¿¡æ¯');
    Logger.error('è¿™æ˜¯ä¸€ä¸ªé”™è¯¯ä¿¡æ¯');
    console.log('æ—¥å¿—æ€»æ•°:', Logger.getLogCount());
    console.log('');

    // æµ‹è¯•è®¡ç®—å™¨æ¨¡å—
    console.log('ğŸ§® æµ‹è¯•è®¡ç®—å™¨æ¨¡å—:');
    Logger.info('å¼€å§‹è®¡ç®—å™¨æµ‹è¯•');

    var result1 = Calculator.add(10, 5);
    console.log('10 + 5 =', result1);
    Logger.info('åŠ æ³•è¿ç®—: 10 + 5 = ' + result1);

    var result2 = Calculator.subtract(20, 8);
    console.log('20 - 8 =', result2);
    Logger.info('å‡æ³•è¿ç®—: 20 - 8 = ' + result2);

    var result3 = Calculator.multiply(6, 7);
    console.log('6 * 7 =', result3);
    Logger.info('ä¹˜æ³•è¿ç®—: 6 * 7 = ' + result3);

    var result4 = Calculator.divide(100, 4);
    console.log('100 / 4 =', result4);
    Logger.info('é™¤æ³•è¿ç®—: 100 / 4 = ' + result4);

    console.log('');
    console.log('ğŸ“œ è®¡ç®—å™¨ç‰ˆæœ¬:', Calculator.getVersion());
    console.log('ğŸ“œ è®¡ç®—å†å²:', Calculator.getHistory());
    console.log('');

    // æµ‹è¯•é”™è¯¯å¤„ç†
    console.log('âš ï¸ æµ‹è¯•é”™è¯¯å¤„ç†:');
    try {
      Calculator.divide(10, 0);
    } catch (e) {
      console.error('æ•è·åˆ°é”™è¯¯:', e.message);
      Logger.error('é™¤é›¶é”™è¯¯: ' + e.message);
    }

    console.log('');
    console.log('ğŸ“Š æ‰€æœ‰æ—¥å¿—è®°å½•:');
    console.table(Logger.getLogs());

    // æ›´æ–°é¡µé¢æ˜¾ç¤º
    document.getElementById('calculator-results').innerHTML = `
      <div class="result">åŠ æ³•: 10 + 5 = ${result1}</div>
      <div class="result">å‡æ³•: 20 - 8 = ${result2}</div>
      <div class="result">ä¹˜æ³•: 6 * 7 = ${result3}</div>
      <div class="result">é™¤æ³•: 100 / 4 = ${result4}</div>
      <div class="result">ç‰ˆæœ¬: ${Calculator.getVersion()}</div>
    `;

    document.getElementById('logger-results').innerHTML = `
      <div class="result">æ—¥å¿—æ€»æ•°: ${Logger.getLogCount()}</div>
      <div class="result">INFO æ—¥å¿—æ•°: ${Logger.getLogsByLevel('INFO').length}</div>
      <div class="result">WARN æ—¥å¿—æ•°: ${Logger.getLogsByLevel('WARN').length}</div>
      <div class="result">ERROR æ—¥å¿—æ•°: ${Logger.getLogsByLevel('ERROR').length}</div>
    `;

    console.log('========================================');
    console.log('âœ… IIFE æ¨¡å—åŒ–ç¤ºä¾‹å®Œæˆ');
    console.log('========================================');
  </script>
</body>
</html>
